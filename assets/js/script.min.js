var map,infoWindow,mapModalVisible,mapLoaded,markers=[],storeData=[];function genStoreCard(o){$("#carousel-4 .carousel-inner").html(""),$.each(o,(function(s){$("#carousel-4 .carousel-inner").append('      <div class="carousel-item">          <div class="card">              <div class="card-body">                  <h6 class="  card-subtitle mb-2">'+o[s].location+'</h6>                  <h5 class="card-title d-flex align-items-end">'+o[s].name+'</h4>                  <p class="card-text">'+o[s].address+'</p>                  <a class="card-link btn btn-danger" href="'+o[s].map+'" target="_blank">Directions</a>              </div>          </div>      </div>      ')})),$("#carousel-4 .carousel-inner .carousel-item:nth-child(1)").addClass("active")}function initMap(){map=new google.maps.Map(document.getElementById("rockos-map"),{center:{lat:14.694399,lng:121.045612},zoom:8}),infoWindow=new google.maps.InfoWindow}function searchStores(){var o=[],s=document.getElementById("search").value.toUpperCase();s?storeData.forEach((function(a){a.location.toUpperCase().substring(0,s.length)==s&&o.push(a)})):o=storeData,clearLocations(),displayStores(o),showStoresMarkers(o),setOnClickListener()}function clearLocations(){infoWindow.close();for(var o=0;o<markers.length;o++)markers[o].setMap(null);markers.length=0}function displayStores(o){var s="";o.forEach((function(o,a){var e=o.address,n=o.location;s+=`\n            <div class="store-container">\n                <div class="store-container-background">\n                    <div class="store-info-container">\n                        <div class="store-address">\n                            <span>${e}</span> \n                        </div>\n                        <div class="store-phone-number">${n}</div>\n                    </div>\n                    <div class="store-number-container">\n                        <div class="store-number"> ${a+1} </div>\n                    </div>\n                </div>\n            </div>     \n        `})),document.querySelector(".stores-list").innerHTML=s}function setOnClickListener(){document.querySelectorAll(".store-container").forEach((function(o,s){o.addEventListener("click",(function(){google.maps.event.trigger(markers[s],"click")}))}))}function showStoresMarkers(o){var s=new google.maps.LatLngBounds;o.forEach((function(o,a){var e=new google.maps.LatLng(o.coordinates.latitude,o.coordinates.longitude),n=o.name,i=o.address,r=o.location;s.extend(e),createMarker(e,n,i,r,a)})),map.fitBounds(s)}function createMarker(o,s,a,e,n){var i=`\n      <div class="store-info-window">\n          <div class="store-info-name">\n              ${s}\n          </div>\n          <div class="store-info-address">\n              <div class="circle">\n                  <i class="fas fa-location-arrow"></i>\n              </div>\n              ${a}\n          </div>\n          <div class="store-info-phone">\n          <div class="circle">\n              <i class="fas fa-phone-alt"></i>\n          </div>\n              ${e}\n          </div>\n          \n      </div>\n  `,r=new google.maps.Marker({map:map,position:o,label:`${n+1}`});google.maps.event.addListener(r,"click",(function(){infoWindow.setContent(i),infoWindow.open(map,r)})),markers.push(r)}$.getJSON("assets/js/store-data.json",(function(o){$.each(o,(function(s){storeData.push(o[s])})),genStoreCard(storeData)})),$("#find a").on("click",(function(){setTimeout((function(){mapModalVisible=$("#store-locator").hasClass("show")}),500),mapModalVisible&&(mapLoaded=1)||setTimeout((function(){initMap(),searchStores(),mapLoaded=1}),500)}));var multipleCardCarousel=document.querySelector("#carousel-4"),carousel=new bootstrap.Carousel(multipleCardCarousel,{interval:!1}),carouselWidth=0,cardWidth=0,scrollPosition=0,carouselSlides=0,carouselHeading=0;function fnCarousel(o){$("#carousel-4 .carousel-control-next").on("click",(function(){scrollPosition<carouselWidth-cardWidth*o&&(scrollPosition+=cardWidth,$("#carousel-4 .carousel-inner").animate({scrollLeft:scrollPosition},600))})),$("#carousel-4 .carousel-control-prev").on("click",(function(){scrollPosition>0&&(scrollPosition-=cardWidth,$("#carousel-4 .carousel-inner").animate({scrollLeft:scrollPosition},600))}))}function runDisplay(o){"none"==o&&($("#carousel-1, #products, #branches, #media, #find").fadeToggle(),$("#about, #vision-mission").fadeToggle("slow"))}$(window).bind("load resize",(function(){var o;carouselHeading=$(".carousel-heading").css("height"),$(".blank-item").css("height",carouselHeading),carouselWidth=$("#carousel-4 .carousel-inner")[0].scrollWidth,cardWidth=$("#carousel-4 .carousel-item").width(),scrollPosition=0,void 0!==window.innerWidth&&(o=window.innerWidth),o>990?($("#carousel-4").removeClass("slide"),carouselWidth=$("#carousel-4 .carousel-inner")[0].scrollWidth,cardWidth=$("#carousel-4 .carousel-item").width(),scrollPosition=0,carouselSlides=4):o>767?($("#carousel-4").removeClass("slide"),carouselWidth=$("#carousel-4 .carousel-inner")[0].scrollWidth,cardWidth=$("#carousel-4 .carousel-item").width(),scrollPosition=0,carouselSlides=3):o>550?($("#carousel-4").removeClass("slide"),carouselWidth=$("#carousel-4 .carousel-inner")[0].scrollWidth,cardWidth=$("#carousel-4 .carousel-item").width(),scrollPosition=0,carouselSlides=2):($("#carousel-4").addClass("slide"),carouselWidth=$("#carousel-4 .carousel-inner")[0].scrollWidth,cardWidth=$("#carousel-4 .carousel-item").width(),scrollPosition=0,carouselSlides=1)})),fnCarousel(carouselSlides),$(window).bind("load resize",(function(){var o;void 0!==window.innerWidth&&(o=window.innerWidth),o>990?($("#navbar").addClass("navbar-dark"),$("#navbar").removeClass("navbar-light"),$("#navbar").addClass("fixed-top"),$("#navbar").removeClass("sticky-top")):($("#navbar").addClass("navbar-light"),$("#navbar").removeClass("navbar-dark"),$("#navbar").addClass("sticky-top"),$("#navbar").removeClass("fixed-top"))})),$(window).bind("load",(function(o){$("#scrollTop").addClass("hidden")})),$(window).scroll((function(){$(window).scrollTop()>300?$("#scrollTop").removeClass("hidden"):$("#scrollTop").addClass("hidden")})),$(".link-logo").on("click",(function(){runDisplay($("#carousel-1").css("display"))})),$(".link-about").on("click",(function(){runDisplay($("#about").css("display"))})),$(".link-home").on("click",(function(){runDisplay($("#carousel-1").css("display"))})),$(".link-products").on("click",(function(){runDisplay($("#products").css("display"))})),$(".link-branches").on("click",(function(){runDisplay($("#branches").css("display"))}));